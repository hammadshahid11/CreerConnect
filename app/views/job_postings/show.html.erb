<!-- app/views/company_profiles/show.html.erb -->

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <!-- Display company profile details here -->

      <!-- Add a button to create a new job posting -->
     
       <h1>View Job Postings by Company  </h1>
      <!-- Loop through job postings associated with the company profile -->
      <% @company_profile.job_postings.each do |job_posting| %>
        <div id="<%= dom_id job_posting %>" class="job-posting" data-turbo-stream="replace">
          <h2><%= job_posting.title %></h2>
          <p><strong>Company:</strong> <%= job_posting.company_name %></p>
          <p><strong>Description:</strong> <%= job_posting.description %></p>

          <!-- Add other job posting details here -->

          <!-- Add a link to view the job posting's details -->

            <!-- link to delete job postings-->
          <%# <%= link_to "Delete Job Posting", company_profile_job_posting_path(@company_profile, @job_posting), method: :delete, data: { confirm: "Are you sure you want to delete this job posting?" }, class: "btn btn-danger" %> %>

        <%= link_to "Delete Job Posting",
            company_profile_job_posting_path(@company_profile, job_posting),
             method: :delete,
            data: {
            turbo_confirm: "Are you sure you want to delete this job posting?",
            turbo_method: :delete,
            turbo_frame: 'job_postings' # This should match the Turbo Frame ID you want to update
            },
        class: "btn btn-danger" %>

        
        </div>
      <% end %>

      <!-- Add other content for your company profile here -->
    </div>
  </div>
</div>
